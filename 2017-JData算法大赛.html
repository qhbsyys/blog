<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="数据行为数据User 用户年龄分布select age, count(user_id) as count from User group by age;+————+——-+| age        | count |+————+——-+| NULL       |     3 || -1         | 14412 || 15-        |     7 || 16-25      |">
<meta property="og:type" content="website">
<meta property="og:title" content="2017 JData算法大赛：高潜用户购买意向预测">
<meta property="og:url" content="https://qhbsyys.github.io/2017-JData算法大赛.html">
<meta property="og:site_name" content="如一">
<meta property="og:description" content="数据行为数据User 用户年龄分布select age, count(user_id) as count from User group by age;+————+——-+| age        | count |+————+——-+| NULL       |     3 || -1         | 14412 || 15-        |     7 || 16-25      |">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-05-26T14:18:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2017 JData算法大赛：高潜用户购买意向预测">
<meta name="twitter:description" content="数据行为数据User 用户年龄分布select age, count(user_id) as count from User group by age;+————+——-+| age        | count |+————+——-+| NULL       |     3 || -1         | 14412 || 15-        |     7 || 16-25      |">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://qhbsyys.github.io/2017-JData算法大赛.html"/>





  <title>2017 JData算法大赛：高潜用户购买意向预测 | 如一</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">如一</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
  <header class="post-header">

	<h1 class="post-title" itemprop="name headline">2017 JData算法大赛：高潜用户购买意向预测</h1>



</header>

    
    
      <h2 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h2><h3 id="行为数据"><a href="#行为数据" class="headerlink" title="行为数据"></a>行为数据</h3><p><em>User</em></p>
<p>用户年龄分布<br>select age, count(user_id) as count from User group by age;<br>+————+——-+<br>| age        | count |<br>+————+——-+<br>| NULL       |     3 |<br>| -1         | 14412 |<br>| 15-        |     7 |<br>| 16-25      |  8797 |<br>| 26-35      | 46570 |<br>| 36-45      | 30336 |<br>| 46-55      |  3325 |<br>| 56+        |  1871 |<br>+————+——-+</p>
<p>reg_tm 2003-06-16 ~ 2016</p>
<p><em>Product</em></p>
<p>商品全集S=商品表Product中sku+行为表Action中sku+评价表中sku</p>
<p>被购买概率大（从action中统计）的商品有什么特征（属性、品类）<br>被重复购买的商品有哪些（日用消耗品，会被定期购买）</p>
<p><em>Comment</em></p>
<p>评论记录分布<br> select dt, count(sku_id) as count from Comment group by dt;<br>+————+——-+<br>| dt         | count |<br>+————+——-+<br>| 2016-02-01 | 46546 |<br>| 2016-02-08 | 46546 |<br>| 2016-02-15 | 46546 |<br>| 2016-02-22 | 46546 |<br>| 2016-02-29 | 46546 |<br>| 2016-03-07 | 46546 |<br>| 2016-03-14 | 46546 |<br>| 2016-03-21 | 46546 |<br>| 2016-03-28 | 46546 |<br>| 2016-04-04 | 46546 |<br>| 2016-04-11 | 46546 |<br>| 2016-04-15 | 46546 |<br>+————+——-+<br>总共有46546种商品，每种都有12条数据，数据很完整。<br>找出评论数有明显变化的产品？评论增加表示该产品被购买过（可以大概估算’购买次数/评论次数’的值，不过貌似没有用）</p>
<p><em>Action</em></p>
<p>共有 13199934 +  25916378 + 11485424 = 50601736 条记录<br>105180 个用户<br>28710  种商品:<br>    4,5,6,7,8,9,10,11 8中cate<br>    cate=8的商品有3938种<br>48252  条购买记录<br>    涉及4268种商品，29485个用户<br>    cate=8的有13281条</p>
<p>+——+———-+<br>| type | count(*) |<br>+——+———-+<br>|    1 | 18981373 |<br>|    2 |   575418 |<br>|    3 |   256053 |<br>|    4 |    48252 |<br>|    5 |   109896 |<br>|    6 | 30630744 |<br>+——+———-+</p>
<blockquote>
<p>提取出（以商品为中心）</p>
<pre><code>1. 商品每天的销售数量
2. 购买该商品的用户---提取出用户特征
</code></pre><p>提取出（以用户为中心）</p>
<pre><code>1. 用户的行为与购买商品的关联性：购买前有何种行为？
</code></pre></blockquote>
<p>12、Q：关于浏览、点击有什么区别<br>    1）浏览，打开商详页至页面加载完成；<br>    2）点击，在商详页中点击某个元素或位置。<br>    model_id表明用户在页面上点击了哪一个位置，只有当type=6时model_id才可能有值； 数据中可能存在一些空值，有可能是异常值，也有可能是在页面上点击了一个空白的位置产生的数据，请参赛者自行理解并处理。</p>
<p>model_id<br>    是枚举值</p>
<h2 id="预测结果，两种表述"><a href="#预测结果，两种表述" class="headerlink" title="预测结果，两种表述"></a>预测结果，两种表述</h2><ol>
<li>哪个商品会被购买，购买人是谁</li>
<li>哪个用户会买东西，买哪件商品</li>
</ol>
<h2 id="特征提取"><a href="#特征提取" class="headerlink" title="特征提取"></a>特征提取</h2><p>原始数据</p>
<p>user_reg_tm: 转换为 user_reg_tm - MIN(user_reg_tm) </p>
<p>用户特征，行为特征，相关商品（品类、评论、销售数量）<br>age,sex,user_lv_cd,user_reg_tm;act_type,<br>user_reg_tm 小，但是lv_cd大，说明这个人喜欢买买买</p>
<p>商品在每天的销售数量</p>
<h2 id="特征数据标准化"><a href="#特征数据标准化" class="headerlink" title="特征数据标准化"></a>特征数据标准化</h2><h2 id="滑窗训练模型，确定常量参数的值"><a href="#滑窗训练模型，确定常量参数的值" class="headerlink" title="滑窗训练模型，确定常量参数的值"></a>滑窗训练模型，确定常量参数的值</h2><p>由于相同cate中又</p>
<ol>
<li>分Action数据为2部分：A.前28天（记忆曲线最大值28）; B.后5天（预测）</li>
<li>从B中筛选出cate=8的购买记录，生成验证集（有相同的user_id则合并购买记录）</li>
<li>从A中提取user_id，预测用，从A+B中提取出cate=8的sku_id（步骤5使用）</li>
<li>从A中提取feature，作为训集</li>
<li>预测算法运算，对3中的user_id行为作出预测（sku_id），挑出cate=8的，作为提交结果</li>
<li>计算score</li>
<li>滑窗1天，重复上述步骤，最后输出score的平均值</li>
<li>以score最大为目标，调整模型</li>
</ol>
<hr>
<p>假设用户之间的行为是不相干的？<br>则应该提取每个用户的行为单独训练、预测<br>Yoo<br>原始数据纬度<br>userid(age sex user_lv_cd user_reg_tm) sku_id(comment, bad_comment_rate) act_tm model_id type cate brand  –&gt; sku_id</p>
<p>结果提交</p>
<p>预测每一个用户，会不会买，最可能买哪一个<br>只提交会买的用户</p>
<p>feature：feat(a, b, c, d, …) ==&gt; x(sku_id)<br>feat从样本中产生，x从样本区间后面5天中有没有购买行为产生，如果没有则x=0，有不止一次，就生成多条 (feat, x1), (feat, x2), …<br>生成足够多的 (feat, x) 进行训练，最后输入一个feature，预测x的值</p>
<hr>
<p>LightGBM provides 2 parallel（并发，并行） learning algorithms now.</p>

    
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar_lf.jpg"
               alt="Alex" />
          <p class="site-author-name" itemprop="name">Alex</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Alex</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
